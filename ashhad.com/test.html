<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <!-- Your existing head content -->
</head>
<body id="top">
    <!-- Your existing body content -->
    
    <!-- Add this section to display Dribbble shots -->
    <section id="dribbble-shots" class="s-dribbble-shots">
        <div class="row s-dribbble-shots__content width-sixteen-col">
            <div class="column xl-12">
                <h2 class="text-display-title">My Dribbble Shots</h2>
                <div id="shots-container"></div>
            </div>
        </div>
    </section>

    <!-- Add this script to fetch and display Dribbble shots -->
    <script>
        const clientId = '2679af59f4f92ec97ef3895821ae775dbd15bcd6d28741cf6f0c40cd154c7a28';
        const clientSecret = '4ccbb6e4145344500a976901384fb3f4af8b8349bbd6f24653cb90b98249c64c';
        const redirectUri = 'http://ashhad.com/'; // Replace with your actual redirect URI

        const authorizeButton = document.createElement('button');
        authorizeButton.textContent = 'Authorize';
        authorizeButton.onclick = () => {
            const authUrl = `https://dribbble.com/oauth/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=read`;
            window.location.href = authUrl;
        };
        document.body.appendChild(authorizeButton);

        // Handle the redirect after authorization
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');

        if (code) {
            // Exchange code for access token
            fetch(`https://dribbble.com/oauth/token?client_id=${clientId}&client_secret=${clientSecret}&code=${code}&redirect_uri=${redirectUri}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.access_token) {
                    localStorage.setItem('accessToken', data.access_token);
                    fetchShots();
                } else {
                    console.error('Error getting access token:', data);
                }
            })
            .catch(error => {
                console.error('Error fetching access token:', error);
            });
        }

        // Fetch shots function
        const fetchShots = async () => {
            const accessToken = localStorage.getItem('accessToken');
            try {
                const response = await fetch(`https://api.dribbble.com/v2/user/shots?access_token=${accessToken}`);
                const data = await response.json();
                const shots = data;

                shots.forEach(shot => {
                    const shotHTML = `
                        <div class="shot">
                            <a href="${shot.html_url}" target="_blank">
                                <img src="${shot.images.normal}" alt="${shot.title}">
                            </a>
                            <h4>${shot.title}</h4>
                        </div>
                    `;
                    document.getElementById('shots-container').innerHTML += shotHTML;
                });
            } catch (error) {
                console.error('Error fetching shots:', error);
            }
        };
    </script>

    <!-- Your existing JavaScript code -->
    <script src="js/plugins.js"></script> 
    <script src="js/main.js"></script>
</body>
</html>